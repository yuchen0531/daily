(function(t){function e(e){for(var n,i,s=e[0],c=e[1],l=e[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"eba4b90a"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,a[1](l)}r[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/daily/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=(a("5c0b"),a("2877")),s={},c=Object(i["a"])(s,r,o,!1,null,null,null),l=c.exports,u=(a("d3b7"),a("8c4f")),p=a("ae74");n["a"].use(u["a"]);var d=[{path:"/",name:"Home",component:p["default"]},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/detail",name:"Detail",component:function(){return a.e("about").then(a.bind(null,"c84b"))}},{path:"/ubike",name:"Ubike",component:function(){return a.e("about").then(a.bind(null,"ae74"))}},{path:"/parking",name:"Parhing",component:function(){return a.e("about").then(a.bind(null,"af3e"))}}],f=new u["a"]({mode:"history",base:"/daily/",routes:d}),m=f,v=a("2f62");n["a"].use(v["a"]);var h=new v["a"].Store({state:{},mutations:{},actions:{},modules:{}});a("b18a"),a("6cc5");n["a"].config.productionTip=!1,new n["a"]({router:m,store:h,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"9c0c":function(t,e,a){},ae74:function(t,e,a){"use strict";a.r(e);var n,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col py-5"},[a("p",[t._v("高雄YouBike2.0公共自行車租賃站即時資訊")]),a("div",{staticStyle:{height:"300px"},attrs:{id:"map"}}),a("div",{staticClass:"mt-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.areaSelected,expression:"areaSelected"}],staticClass:"mr-3",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.areaSelected=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("請選擇鄰近區域")]),t._l(t.areaOptions,(function(e,n){return a("option",{key:n},[t._v(" "+t._s(e)+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sortselected,expression:"sortselected"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortselected=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("排序方式(多到少)")]),t._l(t.sortOptions,(function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(" "+t._s(e.txt)+" ")])}))],2),a("table",{staticClass:"table mt-3"},[t._m(0),a("tbody",t._l(t.initData,(function(e,n){return a("tr",{directives:[{name:"show",rawName:"v-show",value:""===t.areaSelected||t.areaSelected===e.sarea,expression:"areaSelected === '' || areaSelected === item.sarea"}],key:n},[a("th",{staticClass:"align-middle",attrs:{scope:"row"}},[t._v(t._s(t.namefilter(e.sna)))]),a("th",{staticClass:"align-middle"},[t._v(t._s(e.sarea))]),a("th",{staticClass:"align-middle text-nowrap text-left"},[t._v("可借車輛: "+t._s(e.sbi)),a("br"),t._v("可還車輛: "+t._s(e.bemp)),a("br"),t._v("總車位: "+t._s(e.tot))]),a("th",{staticClass:"align-middle"},[a("a",{staticStyle:{color:"blue"},attrs:{href:"https://www.google.com/maps/dir//"+e.lat+","+e.lng,target:"_blank"}},[t._v(t._s(e.ar))])])])})),0)])])])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",{staticClass:"align-middle"},[a("th",{staticClass:"align-middle text-nowrap",attrs:{scope:"col"}},[t._v("租賃站名稱")]),a("th",{staticClass:"align-middle text-nowrap"},[t._v("行政區")]),a("th",{staticClass:"align-middle text-nowrap"},[t._v("車輛資訊")]),a("th",{staticClass:"align-middle text-nowrap"},[t._v("地址")])])])}],i=(a("99af"),a("4160"),a("d81d"),a("d3b7"),a("ac1f"),a("6062"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("2909")),s=a("bc3a"),c=a.n(s),l=a("e11e"),u=a.n(l),p={},d=u.a.icon({iconUrl:"https://pngimg.com/uploads/gps/gps_PNG4.png",iconSize:[12,18]}),f={name:"Ubike",components:{},data:function(){return{mapshow:!0,areaOptions:[],areaSelected:"",sortselected:"",initData:[],varietytrans:[{sna:"租賃站場站名稱"},{sarea:"行政區"},{ar:"地址"},{tot:"總車位"},{sbi:"可借車輛"}],sortOptions:[{value:"tot",txt:"總車位"},{value:"sbi",txt:"可借車輛"},{value:"bemp",txt:"可還車輛"}]}},watch:{sortselected:function(){this.changeSort(this.sortselected)},areaSelected:function(){var t=this,e=[];p.eachLayer((function(t){t instanceof u.a.Marker&&p.removeLayer(t)})),this.initData.forEach((function(a){t.areaSelected===a.sarea&&(n=u.a.marker([a.lat,a.lng],{icon:d}).bindPopup("<b>".concat(t.namefilter(a.sna),"<b><br>可借車輛: ").concat(a.sbi,"<br>可還車輛: ").concat(a.bemp,'<br>地址: <a href="https://www.google.com/maps/dir//').concat(a.lat,",").concat(a.lng,'" style="color: blue">').concat(a.ar,"</a>")),e.push(n))}));var a=u.a.layerGroup(e);p.addLayer(a)}},mounted:function(){var t=this;console.log("navigator",navigator.geolocation.getCurrentPosition),p=u.a.map("map",{center:[22.68,120.38],zoom:10}),d=u.a.icon({iconUrl:"https://pngimg.com/uploads/gps/gps_PNG4.png",iconSize:[12,18]}),u.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}",{foo:"bar",attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(p),c()({method:"get",url:"https://api.kcg.gov.tw/api/service/Get/b4dd9c40-9027-4125-8666-06bef1756092",responseType:"json"}).then((function(e){t.initData=e.data.data.retVal;for(var a=0;a<e.data.data.retVal.length;a++)t.areaOptions.push(e.data.data.retVal[a].sarea);t.areaOptions=Object(i["a"])(new Set(t.areaOptions));for(var r=0;r<t.initData.length;r++)n=u.a.marker([t.initData[r].lat,t.initData[r].lng],{icon:d}).addTo(p)}))},methods:{changeSort:function(t){this.initData=this.initData.sort((function(e,a){switch(t){case"tot":return a.tot-e.tot;case"sbi":return a.sbi-e.sbi;case"bemp":return a.bemp-e.bemp;default:break}}))},namefilter:function(t){return t?(t=t.split("_"),t[1]):""}}},m=f,v=a("2877"),h=Object(v["a"])(m,r,o,!1,null,null,null);e["default"]=h.exports},b18a:function(t,e,a){}});
//# sourceMappingURL=app.b528b5bb.js.map